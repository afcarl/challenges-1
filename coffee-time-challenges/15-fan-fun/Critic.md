The problem statement does not state in which setting the fan was before.
So it could be any of the unknown states. This means the "challenge" is not
solvable.

Wrong: It says "You know that the fan was in the “off” position before you pulled the chain".
Let's assume the fan has position "off" and "bar". Then it is in the beginning of the puzzle in position "bar". 
Let's assume the fan has only position "off", then it is in the beginning of the puzzle in the position "off".
